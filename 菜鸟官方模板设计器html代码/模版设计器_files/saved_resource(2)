Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var i=0,o=this.length;i<o;++i)e.call(t||this,this[i],i,this)});var JSON;JSONEditor=function(e,t,i){if(!JSON)throw new Error("\u60a8\u5f53\u524d\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 JSON. \n\n\u8bf7\u4e0b\u8f7d\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684\u6d4f\u89c8\u5668, \u672c\u7ad9\u63a8\u8350Google Chrome.\n(PS: \u5f53\u524d\u4e3b\u6d41\u6d4f\u89c8\u5668\u90fd\u652f\u6301JSON).");if(!e)throw new Error("\u6ca1\u6709\u63d0\u4f9b\u5bb9\u5668\u5143\u7d20.");this.container=e,this.dom={},this._setOptions(t),this.options.history&&this.editable&&(this.history=new JSONEditor.History(this)),this._createFrame(),this._createTable(),this.set(i||{})},JSONEditor.prototype._setOptions=function(e){if(this.options={search:!0,history:!0,mode:"editor",name:void 0},e){for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);e.enableSearch&&(this.options.search=e.enableSearch),e.enableHistory&&(this.options.search=e.enableHistory)}this.editable="viewer"!=this.options.mode},JSONEditor.focusNode=void 0,JSONEditor.prototype.set=function(e,t){if(t&&(this.options.name=t),e instanceof Function||void 0===e)this.clear();else{this.content.removeChild(this.table);var i={field:this.options.name,value:e},o=new JSONEditor.Node(this,i);this._setRoot(o);var n=!1;this.node.expand(n),this.content.appendChild(this.table)}this.history&&this.history.clear()},JSONEditor.prototype.get=function(){return JSONEditor.focusNode&&JSONEditor.focusNode.blur(),this.node?this.node.getValue():void 0},JSONEditor.prototype.setName=function(e){this.options.name=e,this.node&&this.node.updateField(this.options.name)},JSONEditor.prototype.getName=function(){return this.options.name},JSONEditor.prototype.clear=function(){this.node&&(this.node.collapse(),this.tbody.removeChild(this.node.getDom()),delete this.node)},JSONEditor.prototype._setRoot=function(e){this.clear(),this.node=e,this.tbody.appendChild(e.getDom())},JSONEditor.prototype.search=function(e){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(e),this.content.appendChild(this.table)):t=[],t},JSONEditor.prototype.expandAll=function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},JSONEditor.prototype.collapseAll=function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},JSONEditor.prototype.onAction=function(e,t){if(this.history&&this.history.add(e,t),this.options.change)try{this.options.change()}catch(i){}},JSONEditor.prototype.focus=function(){},JSONEditor.prototype.scrollTo=function(e){var t=this.content;if(t){var i=this;i.animateTimeout&&(clearTimeout(i.animateTimeout),delete i.animateTimeout);var o=t.clientHeight,n=t.scrollHeight-o,r=Math.min(Math.max(e-o/4,0),n),s=function(){var e=t.scrollTop,o=r-e;Math.abs(o)>3&&(t.scrollTop+=o/3,i.animateTimeout=setTimeout(s,50))};s()}},JSONEditor.History=function(e){this.editor=e,this.clear(),this.actions={editField:{undo:function(e){e.params.node.updateField(e.params.oldValue)},redo:function(e){e.params.node.updateField(e.params.newValue)}},editValue:{undo:function(e){e.params.node.updateValue(e.params.oldValue)},redo:function(e){e.params.node.updateValue(e.params.newValue)}},appendNode:{undo:function(e){e.params.parent.removeChild(e.params.node)},redo:function(e){e.params.parent.appendChild(e.params.node)}},removeNode:{undo:function(e){var t=e.params.parent,i=t.childs[e.params.index]||t.append;t.insertBefore(e.params.node,i)},redo:function(e){e.params.parent.removeChild(e.params.node)}},duplicateNode:{undo:function(e){e.params.parent.removeChild(e.params.clone)},redo:function(e){e.params.parent.insertBefore(e.params.clone,e.params.node)}},changeType:{undo:function(e){e.params.node.changeType(e.params.oldType)},redo:function(e){e.params.node.changeType(e.params.newType)}},moveNode:{undo:function(e){e.params.startParent.moveTo(e.params.node,e.params.startIndex)},redo:function(e){e.params.endParent.moveTo(e.params.node,e.params.endIndex)}}}},JSONEditor.History.prototype.onChange=function(){},JSONEditor.History.prototype.add=function(e,t){this.index++,this.history[this.index]={action:e,params:t,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()},JSONEditor.History.prototype.clear=function(){this.history=[],this.index=-1,this.onChange()},JSONEditor.History.prototype.canUndo=function(){return this.index>=0},JSONEditor.History.prototype.canRedo=function(){return this.index<this.history.length-1},JSONEditor.History.prototype.undo=function(){if(this.canUndo()){var e=this.history[this.index];if(e){var t=this.actions[e.action];t&&t.undo&&t.undo(e)}this.index--,this.onChange()}},JSONEditor.History.prototype.redo=function(){if(this.canRedo()){this.index++;var e=this.history[this.index];if(e&&e){var t=this.actions[e.action];t&&t.redo&&t.redo(e)}this.onChange()}},JSONEditor.Node=function(e,t){this.editor=e,this.dom={},this.expanded=!1,t&&t instanceof Object?(this.setField(t.field,t.fieldEditable),this.setValue(t.value)):(this.setField(),this.setValue())},JSONEditor.Node.prototype.setParent=function(e){this.parent=e},JSONEditor.Node.prototype.getParent=function(){return this.parent},JSONEditor.Node.prototype.setField=function(e,t){this.field=e,this.fieldEditable=1==t},JSONEditor.Node.prototype.getField=function(){return void 0===this.field&&this._getDomField(),this.field},JSONEditor.Node.prototype.setValue=function(e){var t,i,o=this.childs;if(o)for(;o.length;)this.removeChild(o[0]);if(this.type=this._getType(e),"array"==this.type){this.childs=[];for(var n=0,r=e.length;n<r;n++)t=e[n],void 0===t||t instanceof Function||(i=new JSONEditor.Node(this.editor,{value:t}),this.appendChild(i));this.value=""}else if("object"==this.type){this.childs=[];for(var s in e)e.hasOwnProperty(s)&&(t=e[s],void 0===t||t instanceof Function||(i=new JSONEditor.Node(this.editor,{field:s,value:t}),this.appendChild(i)));this.value=""}else this.childs=void 0,this.value=e},JSONEditor.Node.prototype.getValue=function(){if("array"==this.type){var e=[];return this.childs.forEach(function(t){e.push(t.getValue())}),e}if("object"==this.type){var t={};return this.childs.forEach(function(e){t[e.getField()]=e.getValue()}),t}return void 0===this.value&&this._getDomValue(),this.value},JSONEditor.Node.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0},JSONEditor.Node.prototype.clone=function(){var e=new JSONEditor.Node(this.editor);if(e.type=this.type,e.field=this.field,e.fieldInnerText=this.fieldInnerText,e.fieldEditable=this.fieldEditable,e.value=this.value,e.valueInnerText=this.valueInnerText,e.expanded=this.expanded,this.childs){var t=[];this.childs.forEach(function(i){var o=i.clone();o.setParent(e),t.push(o)}),e.childs=t}else e.childs=void 0;return e},JSONEditor.Node.prototype.expand=function(e){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-expanded"),this.showChilds(),0!=e&&this.childs.forEach(function(t){t.expand(e)}))},JSONEditor.Node.prototype.collapse=function(e){this.childs&&(this.hideChilds(),0!=e&&this.childs.forEach(function(t){t.collapse(e)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-collapsed"),this.expanded=!1)},JSONEditor.Node.prototype.showChilds=function(){var e=this.childs;if(e&&this.expanded){var t=this.dom.tr,i=t?t.parentNode:void 0;if(i){var o=this.getAppend(),n=t.nextSibling;n?i.insertBefore(o,n):i.appendChild(o),this.childs.forEach(function(e){i.insertBefore(e.getDom(),o),e.showChilds()})}}},JSONEditor.Node.prototype.hide=function(){var e=this.dom.tr,t=e?e.parentNode:void 0;t&&t.removeChild(e),this.hideChilds()},JSONEditor.Node.prototype.hideChilds=function(){var e=this.childs;if(e&&this.expanded){var t=this.getAppend();t.parentNode&&t.parentNode.removeChild(t),this.childs.forEach(function(e){e.hide()})}},JSONEditor.Node.prototype.appendChild=function(e){if("array"==this.type||"object"==this.type){if(e.setParent(this),e.fieldEditable="object"==this.type,"array"==this.type&&(e.index=this.childs.length),this.childs.push(e),this.expanded){var t=e.getDom(),i=this.getAppend(),o=i?i.parentNode:void 0;i&&o&&o.insertBefore(t,i),e.showChilds()}this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}},JSONEditor.Node.prototype.moveBefore=function(e,t){if("array"==this.type||"object"==this.type){var i=this.dom.tr?this.dom.tr.parentNode:void 0;if(i){var o=document.createElement("tr");o.style.height=i.clientHeight+"px",i.appendChild(o)}var n=e.getParent();n&&n.removeChild(e),t instanceof JSONEditor.AppendNode?this.appendChild(e):this.insertBefore(e,t),i&&i.removeChild(o)}},JSONEditor.Node.prototype.moveTo=function(e,t){if(e.parent==this){var i=this.childs.indexOf(e);i<t&&t++}var o=this.childs[t]||this.append;this.moveBefore(e,o)},JSONEditor.Node.prototype.insertBefore=function(e,t){if("array"==this.type||"object"==this.type){if(t==this.append)e.setParent(this),e.fieldEditable="object"==this.type,this.childs.push(e);else{var i=this.childs.indexOf(t);if(i==-1)throw new Error("\u8282\u70b9\u672a\u627e\u5230.");e.setParent(this),e.fieldEditable="object"==this.type,this.childs.splice(i,0,e)}if(this.expanded){var o=e.getDom(),n=t.getDom(),r=n?n.parentNode:void 0;n&&r&&r.insertBefore(o,n),e.showChilds()}this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}},JSONEditor.Node.prototype.search=function(e){var t,i=[],o=e?e.toLowerCase():void 0;if(delete this.searchField,delete this.searchValue,void 0!=this.field){var n=String(this.field).toLowerCase();t=n.indexOf(o),t!=-1&&(this.searchField=!0,i.push({node:this,elem:"field"})),this._updateDomField()}if("array"==this.type||"object"==this.type){if(this.childs){var r=[];this.childs.forEach(function(t){r=r.concat(t.search(e))}),i=i.concat(r)}if(void 0!=o){var s=!1;0==r.length?this.collapse(s):this.expand(s)}}else{if(void 0!=this.value){var a=String(this.value).toLowerCase();t=a.indexOf(o),t!=-1&&(this.searchValue=!0,i.push({node:this,elem:"value"}))}this._updateDomValue()}return i},JSONEditor.Node.prototype.scrollTo=function(){if(!this.dom.tr||!this.dom.tr.parentNode)for(var e=this.parent,t=!1;e;)e.expand(t),e=e.parent;this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop)},JSONEditor.Node.prototype.focus=function(e){if(this.dom.tr&&this.dom.tr.parentNode)if("value"!=e&&this.fieldEditable){var t=this.dom.field;t&&t.focus()}else{var i=this.dom.value;i&&i.focus()}},JSONEditor.Node.prototype.blur=function(){this._getDomValue(!1),this._getDomField(!1)},JSONEditor.Node.prototype._duplicate=function(e){var t=e.clone();return this.insertBefore(t,e),t},JSONEditor.Node.prototype.containsNode=function(e){if(this==e)return!0;var t=this.childs;if(t)for(var i=0,o=t.length;i<o;i++)if(t[i].containsNode(e))return!0;return!1},JSONEditor.Node.prototype._move=function(e,t){if(e!=t){if(e.containsNode(this))throw new Error("\u4e0d\u80fd\u628a\u533a\u57df\u79fb\u52a8\u5230\u81ea\u8eab\u7684\u5b50\u8282\u70b9.");e.parent&&e.parent.removeChild(e);var i=e.clone();e.clearDom(),t?this.insertBefore(i,t):this.appendChild(i)}},JSONEditor.Node.prototype.removeChild=function(e){if(this.childs){var t=this.childs.indexOf(e);if(t!=-1){e.hide(),delete e.searchField,delete e.searchValue;var i=this.childs.splice(t,1)[0];return this.updateDom({updateIndexes:!0}),i}}},JSONEditor.Node.prototype._remove=function(e){this.removeChild(e)},JSONEditor.Node.prototype.changeType=function(e){var t=this.type;if("string"!=e&&"auto"!=e||"string"!=t&&"auto"!=t){var i,o=this.dom.tr?this.dom.tr.parentNode:void 0;i=this.expanded?this.getAppend():this.getDom();var n=i&&i.parentNode?i.nextSibling:void 0;this.hide(),this.clearDom(),this.type=e,"object"==e?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),delete e.index,e.fieldEditable=!0,void 0==e.field&&(e.field=t)}),"string"!=t&&"auto"!=t||(this.expanded=!0)):"array"==e?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),e.fieldEditable=!1,e.index=t}),"string"!=t&&"auto"!=t||(this.expanded=!0)):this.expanded=!1,o&&(n?o.insertBefore(this.getDom(),n):o.appendChild(this.getDom())),this.showChilds()}else this.type=e;"auto"!=e&&"string"!=e||("string"==e?this.value=String(this.value):this.value=this._stringCast(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0})},JSONEditor.Node.prototype._getDomValue=function(e){if(this.dom.value&&"array"!=this.type&&"object"!=this.type&&(this.valueInnerText=JSONEditor.getInnerText(this.dom.value)),void 0!=this.valueInnerText)try{var t;if("string"==this.type)t=this._unescapeHTML(this.valueInnerText);else{var i=this._unescapeHTML(this.valueInnerText);t=this._stringCast(i)}if(t!==this.value){var o=this.value;this.value=t,this.editor.onAction("editValue",{node:this,oldValue:o,newValue:t})}}catch(n){if(this.value=void 0,1!=e)throw n}},JSONEditor.Node.prototype._updateDomValue=function(){var e=this.dom.value;if(e){var t=this.value,i="auto"==this.type?typeof t:this.type,o="";"string"==i?o="green":"number"==i?o="red":"boolean"==i?o="blue":"object"==this.type||"array"==this.type?o="":null===t?o="purple":void 0===t&&(o="green"),e.style.color=o;var n=""==String(this.value)&&"array"!=this.type&&"object"!=this.type;n?JSONEditor.addClassName(e,"jsoneditor-empty"):JSONEditor.removeClassName(e,"jsoneditor-empty"),this.searchValueActive?JSONEditor.addClassName(e,"jsoneditor-search-highlight-active"):JSONEditor.removeClassName(e,"jsoneditor-search-highlight-active"),this.searchValue?JSONEditor.addClassName(e,"jsoneditor-search-highlight"):JSONEditor.removeClassName(e,"jsoneditor-search-highlight"),JSONEditor.stripFormatting(e)}},JSONEditor.Node.prototype._updateDomField=function(){var e=this.dom.field;if(e){var t=""==String(this.field);t?JSONEditor.addClassName(e,"jsoneditor-empty"):JSONEditor.removeClassName(e,"jsoneditor-empty"),this.searchFieldActive?JSONEditor.addClassName(e,"jsoneditor-search-highlight-active"):JSONEditor.removeClassName(e,"jsoneditor-search-highlight-active"),this.searchField?JSONEditor.addClassName(e,"jsoneditor-search-highlight"):JSONEditor.removeClassName(e,"jsoneditor-search-highlight"),JSONEditor.stripFormatting(e)}},JSONEditor.Node.prototype._getDomField=function(e){if(this.dom.field&&this.fieldEditable&&(this.fieldInnerText=JSONEditor.getInnerText(this.dom.field)),void 0!=this.fieldInnerText)try{var t=this._unescapeHTML(this.fieldInnerText);if(t!==this.field){var i=this.field;this.field=t,this.editor.onAction("editField",{node:this,oldValue:i,newValue:t})}}catch(o){if(this.field=void 0,1!=e)throw o}},JSONEditor.Node.prototype.clearDom=function(){this.dom={}},JSONEditor.Node.prototype.getDom=function(){var e=this.dom;if(e.tr)return e.tr;if(e.tr=document.createElement("tr"),e.tr.className="jsoneditor-tr",e.tr.node=this,this.editor.editable){var t=document.createElement("td");t.className="jsoneditor-td",e.drag=this._createDomDragArea(),e.drag&&t.appendChild(e.drag),e.tr.appendChild(t)}var i=document.createElement("td");if(i.className="jsoneditor-td",e.tr.appendChild(i),e.expand=this._createDomExpandButton(),e.field=this._createDomField(),e.value=this._createDomValue(),e.tree=this._createDomTree(e.expand,e.field,e.value),i.appendChild(e.tree),this.editor.editable){var o=document.createElement("td");o.className="jsoneditor-td jsoneditor-td-edit",e.tr.appendChild(o),e.type=this._createDomTypeButton(),o.appendChild(e.type);var n=document.createElement("td");n.className="jsoneditor-td jsoneditor-td-edit",e.tr.appendChild(n),e.duplicate=this._createDomDuplicateButton(),e.duplicate&&n.appendChild(e.duplicate);var r=document.createElement("td");r.className="jsoneditor-td jsoneditor-td-edit",e.tr.appendChild(r),e.remove=this._createDomRemoveButton(),e.remove&&r.appendChild(e.remove)}return this.updateDom(),e.tr},JSONEditor.Node.prototype._onDragStart=function(e){e=e||window.event;var t=this;this.mousemove||(this.mousemove=JSONEditor.Events.addEventListener(document,"mousemove",function(e){t._onDrag(e)})),this.mouseup||(this.mouseup=JSONEditor.Events.addEventListener(document,"mouseup",function(e){t._onDragEnd(e)})),JSONEditor.freezeHighlight=!0,this.drag={oldCursor:document.body.style.cursor,startParent:this.parent,startIndex:this.parent.childs.indexOf(this)},document.body.style.cursor="move",JSONEditor.Events.preventDefault(e)},JSONEditor.Node.prototype._onDrag=function(e){e=e||window.event;var t=this.dom.tr,i=JSONEditor.getAbsoluteTop(t),o=t.offsetHeight,n=e.pageY||e.clientY+document.body.scrollTop;if(n<i){for(var r=t.previousSibling,s=JSONEditor.getAbsoluteTop(r),a=JSONEditor.getNodeFromTarget(r);r&&n<s;)a=JSONEditor.getNodeFromTarget(r),r=r.previousSibling,s=JSONEditor.getAbsoluteTop(r);a&&(r=a.dom.tr,s=JSONEditor.getAbsoluteTop(r),n>s+o&&(a=void 0)),a&&a.parent&&a.parent.moveBefore(this,a)}else{var d=this.expanded&&this.append?this.append.getDom():this.dom.tr,h=d?d.nextSibling:void 0;if(h){for(var l=JSONEditor.getAbsoluteTop(h),c=void 0,p=h.nextSibling,u=JSONEditor.getAbsoluteTop(p),m=p?u-l:0;p&&n>i+m;)c=JSONEditor.getNodeFromTarget(p),p=p.nextSibling,u=JSONEditor.getAbsoluteTop(p),m=p?u-l:0;c&&c.parent&&c.parent.moveBefore(this,c)}}JSONEditor.Events.preventDefault(e)},JSONEditor.Node.prototype._onDragEnd=function(e){e=e||window.event;var t={node:this,startParent:this.drag.startParent,startIndex:this.drag.startIndex,endParent:this.parent,endIndex:this.parent.childs.indexOf(this)};t.startParent==t.endParent&&t.startIndex==t.endIndex||this.editor.onAction("moveNode",t),document.body.style.cursor=this.drag.oldCursor,delete JSONEditor.freezeHighlight,delete this.drag,this.setHighlight(!1),this.mousemove&&(JSONEditor.Events.removeEventListener(document,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(JSONEditor.Events.removeEventListener(document,"mouseup",this.mouseup),delete this.mouseup),JSONEditor.Events.preventDefault(e)},JSONEditor.Node.prototype._createDomDragArea=function(){if(this.parent){var e=document.createElement("button");return e.className="jsoneditor-dragarea",e.title="Move field (drag and drop)",e}},JSONEditor.Node.prototype._createDomField=function(){return document.createElement("div")},JSONEditor.Node.prototype.setHighlight=function(e){JSONEditor.freezeHighlight||this.dom.tr&&(this.dom.tr.className="jsoneditor-tr"+(e?" jsoneditor-tr-highlight":""),this.append&&this.append.setHighlight(e),this.childs&&this.childs.forEach(function(t){t.setHighlight(e)}))},JSONEditor.Node.prototype.updateValue=function(e){this.value=e,this.updateDom()},JSONEditor.Node.prototype.updateField=function(e){this.field=e,this.updateDom()},JSONEditor.Node.prototype.updateDom=function(e){var t=this.dom.tree;t&&(t.style.marginLeft=24*this.getLevel()+"px");var i=this.dom.field;if(i){1==this.fieldEditable?(i.contentEditable=this.editor.editable,i.spellcheck=!1,i.className="jsoneditor-field"):i.className="jsoneditor-readonly";var o;o=void 0!=this.index?this.index:void 0!=this.field?this.field:"array"==this.type||"object"==this.type?this.type:"field",i.innerHTML=this._escapeHTML(o)}var n=this.dom.value;if(n){var r=this.childs?this.childs.length:0;"array"==this.type?(n.innerHTML="["+r+"]",n.title=this.type+" containing "+r+" items"):"object"==this.type?(n.innerHTML="{"+r+"}",n.title=this.type+" containing "+r+" items"):(n.innerHTML=this._escapeHTML(this.value),delete n.title)}this._updateDomField(),this._updateDomValue(),e&&1==e.updateIndexes&&this._updateDomIndexes(),e&&1==e.recurse&&(this.childs&&this.childs.forEach(function(t){t.updateDom(e)}),this.append&&this.append.updateDom())},JSONEditor.Node.prototype._updateDomIndexes=function(){var e=this.dom.value,t=this.childs;e&&t&&("array"==this.type?t.forEach(function(e,t){e.index=t;var i=e.dom.field;i&&(i.innerHTML=t)}):"object"==this.type&&t.forEach(function(e){void 0!=e.index&&(delete e.index,void 0==e.field&&(e.field="field"))}))},JSONEditor.Node.prototype._createDomValue=function(){var e;return"array"==this.type?(e=document.createElement("div"),e.className="jsoneditor-readonly",e.innerHTML="[...]"):"object"==this.type?(e=document.createElement("div"),e.className="jsoneditor-readonly",e.innerHTML="{...}"):"string"==this.type?(e=document.createElement("div"),e.contentEditable=this.editor.editable,e.spellcheck=!1,e.className="jsoneditor-value",e.innerHTML=this._escapeHTML(this.value)):(e=document.createElement("div"),e.contentEditable=this.editor.editable,e.spellcheck=!1,e.className="jsoneditor-value",e.innerHTML=this._escapeHTML(this.value)),e},JSONEditor.Node.prototype._createDomExpandButton=function(){var e=document.createElement("button"),t="array"==this.type||"object"==this.type;return t?(e.className=this.expanded?"jsoneditor-expanded":"jsoneditor-collapsed",e.title="Click to expand/collapse this field. \nCtrl+Click to expand/collapse including all childs."):(e.className="jsoneditor-invisible",e.title=""),e},JSONEditor.Node.prototype._createDomTree=function(e,t,i){var o=this.dom,n=document.createElement("table"),r=document.createElement("tbody");n.style.borderCollapse="collapse",n.appendChild(r);var s=document.createElement("tr");r.appendChild(s);var a=document.createElement("td");a.className="jsoneditor-td-tree",s.appendChild(a),a.appendChild(e),o.tdExpand=a;var d=document.createElement("td");d.className="jsoneditor-td-tree",s.appendChild(d),d.appendChild(t),o.tdField=d;var h=document.createElement("td");h.className="jsoneditor-td-tree",s.appendChild(h),"object"!=this.type&&"array"!=this.type&&(h.appendChild(document.createTextNode(":")),h.className="jsoneditor-separator"),o.tdSeparator=h;var l=document.createElement("td");return l.className="jsoneditor-td-tree",s.appendChild(l),l.appendChild(i),o.tdValue=l,n},JSONEditor.Node.prototype.onEvent=function(e){var t=e.type,i=e.target||e.srcElement,o=this.dom,n=this,r="array"==this.type||"object"==this.type,s=o.value;if(i==s)switch(t){case"focus":JSONEditor.focusNode=this;break;case"blur":case"change":this._getDomValue(!0),this._updateDomValue(),this.value&&(s.innerHTML=this._escapeHTML(this.value));break;case"keyup":this._getDomValue(!0),this._updateDomValue();break;case"cut":case"paste":setTimeout(function(){n._getDomValue(!0),n._updateDomValue()},1)}var a=o.field;if(i==a)switch(t){case"focus":JSONEditor.focusNode=this;break;case"change":case"blur":this._getDomField(!0),this._updateDomField(),this.field&&(a.innerHTML=this._escapeHTML(this.field));break;case"keyup":this._getDomField(!0),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){n._getDomField(!0),n._updateDomField()},1)}var d=o.drag;if(i==d)switch(t){case"mousedown":this._onDragStart(e);break;case"mouseover":this.setHighlight(!0);break;case"mouseout":this.setHighlight(!1)}var h=o.expand;i==h&&"click"==t&&r&&this._onExpand(e);var l=o.duplicate;if(i==l)switch(t){case"click":var c=this.parent._duplicate(this);this.editor.onAction("duplicateNode",{node:this,clone:c,parent:this.parent});break;case"mouseover":this.setHighlight(!0);break;case"mouseout":this.setHighlight(!1)}var p=o.remove;if(i==p)switch(t){case"click":this._onRemove();break;case"mouseover":this.setHighlight(!0);break;case"mouseout":this.setHighlight(!1)}var u=o.type;if(i==u)switch(t){case"click":this._onChangeType(e);break;case"mouseover":this.setHighlight(!0);break;case"mouseout":this.setHighlight(!1)}var m=o.tree;if(i==m.parentNode)switch(t){case"click":var f=void 0!=e.offsetX?e.offsetX<24*(this.getLevel()+1):e.clientX<JSONEditor.getAbsoluteLeft(o.tdSeparator);f||r?a&&(JSONEditor.setEndOfContentEditable(a),a.focus()):s&&(JSONEditor.setEndOfContentEditable(s),s.focus())}if(i==o.tdExpand&&!r||i==o.tdField||i==o.tdSeparator)switch(t){case"click":a&&(JSONEditor.setEndOfContentEditable(a),a.focus())}},JSONEditor.Node.prototype._onExpand=function(e){e=e||window.event;var t=e.ctrlKey;if(t){var i=this.dom.tr.parentNode,o=i.parentNode,n=o.scrollTop;o.removeChild(i)}this.expanded?this.collapse(t):this.expand(t),t&&(o.appendChild(i),o.scrollTop=n)},JSONEditor.Node.types=[{value:"array",className:"jsoneditor-option-array",title:'"array" \u7c7b\u578b: \u4e00\u4e2a\u5305\u542b\u4e86\u6709\u5e8f\u503c\u96c6\u5408\u7684\u6570\u7ec4.'},{value:"auto",className:"jsoneditor-option-auto",title:'"auto" \u7c7b\u578b: \u8282\u70b9\u7c7b\u578b\u5c06\u81ea\u52a8\u4ece\u503c\u4e2d\u83b7\u53d6, \u53ef\u4ee5\u662f: string, number, boolean, \u6216\u8005 null.'},{value:"object",className:"jsoneditor-option-object",title:'"object" \u7c7b\u578b: \u5bf9\u8c61\u5305\u542b\u4e86\u4e00\u4e9b\u65e0\u5e8f\u7684\u952e/\u503c\u5bf9.'},{value:"string",className:"jsoneditor-option-string",title:'"string" \u7c7b\u578b: \u8282\u70b9\u7c7b\u578b\u4e0d\u4ece\u503c\u4e2d\u81ea\u52a8\u83b7\u53d6, \u4f46\u6c38\u8fdc\u8fd4\u56de string.'}],JSONEditor.Node.prototype._createDomTypeButton=function(){var e=this,t=document.createElement("button");return t.className="jsoneditor-type-"+e.type,t.title="\u6539\u53d8\u8282\u70b9\u7c7b\u578b",t},JSONEditor.Node.prototype._onRemove=function(){this.setHighlight(!1);var e=this.parent.childs.indexOf(this);this.parent._remove(this),this.editor.onAction("removeNode",{node:this,parent:this.parent,index:e})},JSONEditor.Node.prototype._onChangeType=function(e){JSONEditor.Events.stopPropagation(e);var t=this.dom.type,i=this,o=JSONEditor.getAbsoluteLeft(t),n=JSONEditor.getAbsoluteTop(t)+t.clientHeight,r=function(e){var o=i.type;i.changeType(e),i.editor.onAction("changeType",{node:i,oldType:o,newType:e}),t.className="jsoneditor-type-"+i.type};JSONEditor.showDropDownList({x:o,y:n,node:i,value:i.type,values:JSONEditor.Node.types,className:"jsoneditor-select",optionSelectedClassName:"jsoneditor-option-selected",optionClassName:"jsoneditor-option",callback:r})},JSONEditor.showDropDownList=function(e){var t=document.createElement("div");t.className=e.className||"",t.style.position="absolute",t.style.left=(e.x||0)+"px",t.style.top=(e.y||0)+"px",e.values.forEach(function(i){var o=i.value||String(i),n="jsoneditor-option",r=o==e.value;r&&(n+=" "+e.optionSelectedClassName);var s=document.createElement("div");s.className=n,i.title&&(s.title=i.title);var a=document.createElement("div");a.className=i.className||"",s.appendChild(a);var d=document.createElement("div");d.className="jsoneditor-option-text",d.innerHTML="<div>"+o+"</div>",s.appendChild(d),s.onmousedown=function(t){return function(){e.callback(t)}}(i.value),t.appendChild(s)}),document.body.appendChild(t),e.node.setHighlight(!0),JSONEditor.freezeHighlight=!0;var i=JSONEditor.Events.addEventListener(document,"mousedown",function(){JSONEditor.freezeHighlight=!1,e.node.setHighlight(!1),t&&t.parentNode&&t.parentNode.removeChild(t),JSONEditor.Events.removeEventListener(document,"mousedown",i)}),o=JSONEditor.Events.addEventListener(document,"mousewheel",function(){JSONEditor.freezeHighlight=!1,e.node.setHighlight(!1),t&&t.parentNode&&t.parentNode.removeChild(t),JSONEditor.Events.removeEventListener(document,"mousewheel",o)})},JSONEditor.Node.prototype.getAppend=function(){return this.append||(this.append=new JSONEditor.AppendNode(this.editor),this.append.setParent(this)),this.append.getDom()},JSONEditor.Node.prototype._createDomRemoveButton=function(){if(this.parent&&("array"==this.parent.type||"object"==this.parent.type)){var e=document.createElement("button");return e.className="jsoneditor-remove",e.title="\u5220\u9664\u8282\u70b9 (\u5305\u62ec\u6240\u6709\u5b50\u8282\u70b9)",e}},JSONEditor.Node.prototype._createDomDuplicateButton=function(){if(this.parent&&("array"==this.parent.type||"object"==this.parent.type)){var e=document.createElement("button");return e.className="jsoneditor-duplicate",e.title="\u590d\u5236\u8282\u70b9 (\u5305\u62ec\u6240\u6709\u5b50\u8282\u70b9)",e}},JSONEditor.Node.prototype._getType=function(e){return e instanceof Array?"array":e instanceof Object?"object":"string"==typeof e&&"string"!=typeof this._stringCast(e)?"string":"auto"},JSONEditor.Node.prototype._stringCast=function(e){var t=e.toLowerCase(),i=Number(e),o=parseFloat(e);return""==e?"":"null"==t?null:"true"==t||"false"!=t&&(isNaN(i)||isNaN(o)?e:i)},JSONEditor.Node.prototype._escapeHTML=function(e){var t=String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),i=JSON.stringify(t);return i.substring(1,i.length-1)},JSONEditor.Node.prototype._unescapeHTML=function(e){var t='"'+this._escapeJSON(e)+'"',i=JSONEditor.parse(t);return i.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ")},JSONEditor.Node.prototype._escapeJSON=function(e){for(var t="",i=0,o=e.length;i<o;){var n=e.charAt(i);"\n"==n?t+="\\n":"\\"==n?(t+=n,i++,n=e.charAt(i),'"\\/bfnrtu'.indexOf(n)==-1&&(t+="\\"),t+=n):t+='"'==n?'\\"':n,i++}return t},JSONEditor.AppendNode=function(e){this.editor=e,this.dom={}},JSONEditor.AppendNode.prototype=new JSONEditor.Node,JSONEditor.AppendNode.prototype.getDom=function(){function e(e){var t=document.createElement("td");return t.className=e||"",t}if(this.dom.tr)return this.dom.tr;var t=document.createElement("tr");if(t.node=this,!this.editor.editable)return t;t.appendChild(e("jsoneditor-td"));var i=document.createElement("td");t.appendChild(i),i.className="jsoneditor-td";var o=document.createElement("button");return o.className="jsoneditor-append",o.title="\u6dfb\u52a0",this.dom.append=o,i.appendChild(o),t.appendChild(e("jsoneditor-td jsoneditor-td-edit")),t.appendChild(e("jsoneditor-td jsoneditor-td-edit")),t.appendChild(e("jsoneditor-td jsoneditor-td-edit")),this.dom.tr=t,this.dom.td=i,this.updateDom(),t},JSONEditor.AppendNode.prototype.updateDom=function(){var e=this.dom.td;e&&(e.style.paddingLeft=24*this.getLevel()+26+"px")},JSONEditor.AppendNode.prototype.onEvent=function(e){var t=e.type,i=e.target||e.srcElement,o=this.dom,n=o.append;if(i==n)switch(t){case"click":this._onAppend();break;case"mouseover":this.parent.setHighlight(!0);break;case"mouseout":this.parent.setHighlight(!1)}},JSONEditor.AppendNode.prototype._onAppend=function(){var e=new JSONEditor.Node(this.editor,{field:"field",value:"value"});this.parent.appendChild(e),this.parent.setHighlight(!1),e.focus(),this.editor.onAction("appendNode",{node:e,parent:this.parent})},JSONEditor.prototype._createFrame=function(){this.container.innerHTML="",this.frame=document.createElement("div"),this.frame.className="jsoneditor-frame",this.container.appendChild(this.frame);var e=this,t=function(e){e=e||window.event;var t=e.target||e.srcElement,i=JSONEditor.getNodeFromTarget(t);i&&i.onEvent(e)};this.frame.onclick=function(e){t(e),JSONEditor.Events.preventDefault(e)},this.frame.onchange=t,this.frame.onkeydown=t,this.frame.onkeyup=t,this.frame.oncut=t,this.frame.onpaste=t,this.frame.onmousedown=t,this.frame.onmouseup=t,this.frame.onmouseover=t,this.frame.onmouseout=t,JSONEditor.Events.addEventListener(this.frame,"focus",t,!0),JSONEditor.Events.addEventListener(this.frame,"blur",t,!0),this.frame.onfocusin=t,this.frame.onfocusout=t,this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var i=document.createElement("button");i.className="jsoneditor-menu jsoneditor-expand-all",i.title="\u5c55\u5f00",i.onclick=function(){e.expandAll()},this.menu.appendChild(i);var o=document.createElement("button");if(o.title="\u6298\u53e0",o.className="jsoneditor-menu jsoneditor-collapse-all",o.onclick=function(){e.collapseAll()},this.menu.appendChild(o),this.history){var n=document.createElement("span");n.innerHTML="&nbsp;",this.menu.appendChild(n);var r=document.createElement("button");r.className="jsoneditor-menu jsoneditor-undo",r.title="\u64a4\u9500",r.onclick=function(){e.history.undo(),e.options.change&&e.options.change()},this.menu.appendChild(r),this.dom.undo=r;var s=document.createElement("button");s.className="jsoneditor-menu jsoneditor-redo",s.title="\u91cd\u505a",s.onclick=function(){
e.history.redo(),e.options.change&&e.options.change()},this.menu.appendChild(s),this.dom.redo=s,this.history.onChange=function(){r.disabled=!e.history.canUndo(),s.disabled=!e.history.canRedo()},this.history.onChange()}this.options.search&&(this.searchBox=new JSONEditor.SearchBox(this,this.menu))},JSONEditor.prototype._createTable=function(){var e=document.createElement("div");e.className="jsoneditor-content-outer",this.contentOuter=e,this.content=document.createElement("div"),this.content.className="jsoneditor-content",e.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-table",this.content.appendChild(this.table);var t=JSONEditor.getInternetExplorerVersion();8==t&&(this.content.style.overflow="scroll");var i;this.colgroupContent=document.createElement("colgroup"),i=document.createElement("col"),i.width="24px",this.colgroupContent.appendChild(i),i=document.createElement("col"),this.colgroupContent.appendChild(i),i=document.createElement("col"),i.width="24px",this.colgroupContent.appendChild(i),i=document.createElement("col"),i.width="24px",this.colgroupContent.appendChild(i),i=document.createElement("col"),i.width="24px",this.colgroupContent.appendChild(i),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(e)},JSONEditor.getNodeFromTarget=function(e){for(;e;){if(e.node)return e.node;e=e.parentNode}},JSONFormatter=function(e,t,i){if(!JSON)throw new Error("\u60a8\u5f53\u524d\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 JSON. \n\n\u8bf7\u4e0b\u8f7d\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684\u6d4f\u89c8\u5668, \u672c\u7ad9\u63a8\u8350Google Chrome.\n(PS: \u5f53\u524d\u4e3b\u6d41\u6d4f\u89c8\u5668\u90fd\u652f\u6301JSON).");this.container=e,this.indentation=4,this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor-frame",this.frame.onclick=function(e){JSONEditor.Events.preventDefault(e)},this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var o=document.createElement("button");o.className="jsoneditor-menu jsoneditor-format",o.title="\u683c\u5f0f\u5316JSON\u6570\u636e",this.menu.appendChild(o);var n=document.createElement("button");n.className="jsoneditor-menu jsoneditor-compact",n.title="\u538b\u7f29JSON\u6570\u636e, \u6e05\u9664\u6240\u6709\u7a7a\u767d\u5b57\u7b26",this.menu.appendChild(n);var r=document.createElement("select");r.options.add(new Option("\u76f4\u63a5\u6253\u5370","print")),r.options.add(new Option("PDF\u9884\u89c8","printPdf")),r.options.add(new Option("Image\u9884\u89c8","printImg")),r.className="jsoneditor-select",r.onchange=function(e){"use strict";t&&"function"==typeof t.changeForSelect&&t.changeForSelect(e)},this.menu.appendChild(r);var s=document.createElement("button");s.className="jsoneditor-menu jsoneditor-run",s.title="\u8fd0\u884c\uff0c\u4e0esocket\u901a\u4fe1",s.innerHTML="\u8fd0\u884c",this.menu.appendChild(s);var a=document.createElement("div");a.className="jsoneditor-uuid",a.id="J_uuid",this.menu.appendChild(a),this.content=document.createElement("div"),this.content.className="jsonformatter-content",this.frame.appendChild(this.content),this.textarea=document.createElement("textarea"),this.textarea.className="jsonformatter-textarea",this.textarea.spellcheck=!1,this.content.appendChild(this.textarea);var d=this.textarea;t&&(t.change&&(null===this.textarea.oninput?this.textarea.oninput=function(){t.change()}:this.textarea.onchange=function(){t.change()}),t.indentation&&(this.indentation=Number(t.indentation)));var h=this;o.onclick=function(){try{var e=JSONEditor.parse(d.value);d.value=JSON.stringify(e,null,h.indentation)}catch(t){h.onError(t)}},n.onclick=function(){try{var e=JSONEditor.parse(d.value);d.value=JSON.stringify(e)}catch(t){h.onError(t)}},s.onclick=function(){t&&"function"==typeof t.run&&t.run()},this.container.appendChild(this.frame),"string"==typeof i?this.setText(i):this.set(i)},JSONFormatter.prototype.onError=function(e){},JSONFormatter.prototype.set=function(e){this.textarea.value=JSON.stringify(e,null,this.indentation)},JSONFormatter.prototype.get=function(){return JSONEditor.parse(this.textarea.value)},JSONFormatter.prototype.getText=function(){return this.textarea.value},JSONFormatter.prototype.setText=function(e){this.textarea.value=e},JSONEditor.SearchBox=function(e,t){var i=this;this.editor=e,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.dom={},this.dom.container=t;var o=document.createElement("table");this.dom.table=o,o.className="jsoneditor-search",t.appendChild(o);var n=document.createElement("tbody");this.dom.tbody=n,o.appendChild(n);var r=document.createElement("tr");n.appendChild(r);var s=document.createElement("td");s.className="jsoneditor-search",r.appendChild(s);var a=document.createElement("div");this.dom.results=a,a.className="jsoneditor-search-results",s.appendChild(a),s=document.createElement("td"),s.className="jsoneditor-search",r.appendChild(s);var d=document.createElement("div");this.dom.input=d,d.className="jsoneditor-search",d.title="\u67e5\u627e\u533a\u5757\u548c\u503c",s.appendChild(d);var h=document.createElement("table");h.className="jsoneditor-search-input",d.appendChild(h);var l=document.createElement("tbody");h.appendChild(l),r=document.createElement("tr"),l.appendChild(r);var c=document.createElement("button");c.className="jsoneditor-search-refresh",s=document.createElement("td"),s.appendChild(c),r.appendChild(s);var p=document.createElement("input");this.dom.search=p,p.className="jsoneditor-search",p.oninput=function(e){i.onDelayedSearch(e)},p.onchange=function(e){i.onSearch(e)},p.onkeydown=function(e){i.onKeyDown(e)},p.onkeyup=function(e){i.onKeyUp(e)},c.onclick=function(e){p.select()},s=document.createElement("td"),s.appendChild(p),r.appendChild(s);var u=document.createElement("button");u.title="\u4e0b\u4e00\u4e2a (Enter)",u.className="jsoneditor-search-next",u.onclick=function(){i.next()},s=document.createElement("td"),s.appendChild(u),r.appendChild(s);var m=document.createElement("button");m.title="\u4e0a\u4e00\u4e2a (Shift+Enter)",m.className="jsoneditor-search-previous",m.onclick=function(){i.previous()},s=document.createElement("td"),s.appendChild(m),r.appendChild(s)},JSONEditor.SearchBox.prototype.next=function(){if(void 0!=this.results){var e=void 0!=this.resultIndex?this.resultIndex+1:0;e>this.results.length-1&&(e=0),this.setActiveResult(e)}},JSONEditor.SearchBox.prototype.previous=function(){if(void 0!=this.results){var e=this.results.length-1,t=void 0!=this.resultIndex?this.resultIndex-1:e;t<0&&(t=e),this.setActiveResult(t)}},JSONEditor.SearchBox.prototype.setActiveResult=function(e){if(this.activeResult){var t=this.activeResult.node,i=this.activeResult.elem;"field"==i?delete t.searchFieldActive:delete t.searchValueActive,t.updateDom()}if(!this.results||!this.results[e])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=e;var o=this.results[this.resultIndex].node,n=this.results[this.resultIndex].elem;"field"==n?o.searchFieldActive=!0:o.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],o.updateDom(),o.scrollTo()},JSONEditor.SearchBox.prototype.focusActiveResult=function(){this.activeResult||this.next(),this.activeResult&&this.activeResult.node.focus(this.activeResult.elem)},JSONEditor.SearchBox.prototype.clearDelay=function(){void 0!=this.timeout&&(clearTimeout(this.timeout),delete this.timeout)},JSONEditor.SearchBox.prototype.onDelayedSearch=function(e){this.clearDelay();var t=this;this.timeout=setTimeout(function(e){t.onSearch(e)},this.delay)},JSONEditor.SearchBox.prototype.onSearch=function(e,t){this.clearDelay();var i=this.dom.search.value,o=i.length>0?i:void 0;if(o!=this.lastText||t)if(this.lastText=o,this.results=this.editor.search(o),this.setActiveResult(void 0),void 0!=o){var n=this.results.length;switch(n){case 0:this.dom.results.innerHTML="\u533a\u5757/\u503c\u672a\u627e\u5230";break;default:this.dom.results.innerHTML="\u627e\u5230&nbsp;"+n+"&nbsp;\u4e2a\u7ed3\u679c"}}else this.dom.results.innerHTML=""},JSONEditor.SearchBox.prototype.onKeyDown=function(e){e=e||window.event;var t=e.which||e.keyCode;27==t?(this.dom.search.value="",this.onSearch(e),JSONEditor.Events.preventDefault(e),JSONEditor.Events.stopPropagation(e)):13==t&&(e.ctrlKey?this.onSearch(e,!0):e.shiftKey?this.previous():this.next(),JSONEditor.Events.preventDefault(e),JSONEditor.Events.stopPropagation(e))},JSONEditor.SearchBox.prototype.onKeyUp=function(e){e=e||window.event;var t=e.which||e.keyCode;27!=t&&13!=t&&this.onDelayedSearch(e)},JSONEditor.Events={},JSONEditor.Events.addEventListener=function(e,t,i,o){if(e.addEventListener)return void 0===o&&(o=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),e.addEventListener(t,i,o),i;var n=function(){return i.call(e,window.event)};return e.attachEvent("on"+t,n),n},JSONEditor.Events.removeEventListener=function(e,t,i,o){e.removeEventListener?(void 0===o&&(o=!1),"mousewheel"===t&&navigator.userAgent.indexOf("Firefox")>=0&&(t="DOMMouseScroll"),e.removeEventListener(t,i,o)):e.detachEvent("on"+t,i)},JSONEditor.Events.stopPropagation=function(e){e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},JSONEditor.Events.preventDefault=function(e){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1},JSONEditor.getAbsoluteLeft=function(e){for(var t=0,i=document.body;null!=e&&e!=i;)t+=e.offsetLeft,t-=e.scrollLeft,e=e.offsetParent;return t},JSONEditor.getAbsoluteTop=function(e){for(var t=0,i=document.body;null!=e&&e!=i;)t+=e.offsetTop,t-=e.scrollTop,e=e.offsetParent;return t},JSONEditor.addClassName=function(e,t){var i=e.className.split(" ");i.indexOf(t)==-1&&(i.push(t),e.className=i.join(" "))},JSONEditor.removeClassName=function(e,t){var i=e.className.split(" "),o=i.indexOf(t);o!=-1&&(i.splice(o,1),e.className=i.join(" "))},JSONEditor.stripFormatting=function(e){for(var t=e.childNodes,i=0,o=t.length;i<o;i++){var n=t[i];n.style&&n.removeAttribute("style");var r=n.attributes;if(r)for(var s=r.length-1;s>=0;s--){var a=r[s];1==a.specified&&n.removeAttribute(a.name)}JSONEditor.stripFormatting(n)}},JSONEditor.setEndOfContentEditable=function(e){var t,i;document.createRange?(t=document.createRange(),t.selectNodeContents(e),t.collapse(!1),i=window.getSelection(),i.removeAllRanges(),i.addRange(t)):document.selection&&(t=document.body.createTextRange(),t.moveToElementText(e),t.collapse(!1),t.select())},JSONEditor.getInnerText=function(e,t){var i=void 0==t;if(i&&(t={text:"",flush:function(){var e=this.text;return this.text="",e},set:function(e){this.text=e}}),e.nodeValue)return t.flush()+e.nodeValue;if(e.hasChildNodes()){for(var o=e.childNodes,n="",r=0,s=o.length;r<s;r++){var a=o[r];if("DIV"==a.nodeName||"P"==a.nodeName){var d=o[r-1],h=d?d.nodeName:void 0;h&&"DIV"!=h&&"P"!=h&&"BR"!=h&&(n+="\n",t.flush()),n+=JSONEditor.getInnerText(a,t),t.set("\n")}else"BR"==a.nodeName?(n+=t.flush(),t.set("\n")):n+=JSONEditor.getInnerText(a,t)}return n}return"P"==e.nodeName&&JSONEditor.getInternetExplorerVersion()!=-1?t.flush():""},JSONEditor._ieVersion=void 0,JSONEditor.getInternetExplorerVersion=function(){if(void 0==JSONEditor._ieVersion){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}JSONEditor._ieVersion=e}return JSONEditor._ieVersion},JSONEditor.ieVersion=JSONEditor.getInternetExplorerVersion(),JSONEditor.parse=function(e){try{return JSON.parse(e)}catch(t){var i=JSONEditor.validate(e)||t;throw new Error(i)}},JSONEditor.validate=function(e){var t=void 0;try{window.jsonlint?window.jsonlint.parse(e):JSON.parse(e)}catch(i){t='<pre class="error">'+i.toString()+"</pre>",window.jsonlint}return t};function Notify(){this.dom={};var e=this;JSONEditor.Events.addEventListener(document,"keydown",function(t){e.onKeyDown(t)})}Notify.prototype.showNotification=function(e){return this.showMessage({type:"notification",message:e,closeButton:!1})},Notify.prototype.showError=function(e){return this.showMessage({type:"error",message:e.message||e.toString(),closeButton:!0})},Notify.prototype.showMessage=function(e){var t=this.dom.frame;if(!t){var o=500,n=25,i=document.body.offsetWidth||window.innerWidth;t=document.createElement("div"),t.style.position="absolute",t.style.left=(i-o)/2+"px",t.style.width=o+"px",t.style.top=n+"px",document.body.appendChild(t),this.dom.frame=t}var r=e.type||"notification",a=e.closeButton!==!1,s=document.createElement("div");s.className=r,s.type=r,s.closeable=a,s.style.position="relative",t.appendChild(s);var d=document.createElement("table");d.style.width="100%",s.appendChild(d);var l=document.createElement("tbody");d.appendChild(l);var p=document.createElement("tr");l.appendChild(p);var c=document.createElement("td");if(c.innerHTML=e.message||"",p.appendChild(c),a){var m=document.createElement("td");m.style.textAlign="right",m.style.verticalAlign="top",p.appendChild(m);var h=document.createElement("button");h.innerHTML="&times;",h.title="\u5173\u95ed\u6d88\u606f (ESC)",m.appendChild(h);var f=this;h.onclick=function(){f.removeMessage(s)}}return s},Notify.prototype.removeMessage=function(e){var t=this.dom.frame;if(!e&&t){for(var o=t.firstChild;o&&!o.closeable;)o=o.nextSibling;o&&o.closeable&&(e=o)}e&&e.parentNode==t&&e.parentNode.removeChild(e),t&&0==t.childNodes.length&&(t.parentNode.removeChild(t),delete this.dom.frame)},Notify.prototype.onKeyDown=function(e){e=e||window.event;var t=e.which||e.keyCode;27==t&&(this.removeMessage(),JSONEditor.Events.preventDefault(e),JSONEditor.Events.stopPropagation(e))};function Splitter(e){if(!e||!e.container)throw new Error("params.container undefined in Splitter constructor");var t=this;JSONEditor.Events.addEventListener(e.container,"mousedown",function(e){t.onMouseDown(e)}),this.container=e.container,this.onChange=e.change?e.change:function(){},this.params={}}Splitter.prototype.onMouseDown=function(e){var t=this,o=e.which?1==e.which:1==e.button;o&&(this.params.mousedown||(this.params.mousedown=!0,this.params.mousemove=JSONEditor.Events.addEventListener(document,"mousemove",function(e){t.onMouseMove(e)}),this.params.mouseup=JSONEditor.Events.addEventListener(document,"mouseup",function(e){t.onMouseUp(e)}),this.params.screenX=e.screenX,this.params.value=this.getValue()),JSONEditor.Events.preventDefault(e))},Splitter.prototype.onMouseMove=function(e){var t=window.innerWidth||document.body.offsetWidth||document.documentElement.offsetWidth,o=e.screenX-this.params.screenX,n=this.params.value+o/t;n=this.setValue(n),this.onChange(n),JSONEditor.Events.preventDefault(e)},Splitter.prototype.onMouseUp=function(e){this.params.mousedown&&(JSONEditor.Events.removeEventListener(document,"mousemove",this.params.mousemove),JSONEditor.Events.removeEventListener(document,"mouseup",this.params.mouseup),this.params.mousemove=void 0,this.params.mouseup=void 0,this.params.mousedown=!1),JSONEditor.Events.preventDefault(e)},Splitter.prototype.setValue=function(e){e=Number(e),e<.1&&(e=.1),e>.9&&(e=.9),this.value=e;try{localStorage.splitterValue=e}catch(t){console.log(t)}return e},Splitter.prototype.getValue=function(){var e=this.value;if(void 0==e)try{void 0!=localStorage.splitterValue&&(e=Number(localStorage.splitterValue),e=this.setValue(e))}catch(t){console.log(t)}return void 0==e&&(e=this.setValue(.5)),e};var editor=null,formatter=null,app={};app.formatterToEditor=function(){try{editor.set(formatter.get())}catch(e){app.notify.showError(e)}},app.editorToFormatter=function(){try{formatter.set(editor.get())}catch(e){app.notify.showError(e)}},app.load=function(){function e(e){switch(e){case"getPrints":t={};break;case"getPrinterConfig":t={printer:"Air Printer (MacPS)"};break;case"printerConfig":t={printer:"Air Printer (MacPS)"};break;case"setPrinterConfig":t={printer:{name:"Air Printer (MacPS)",needTopLogo:!0,needBottomLogo:!1,horizontalOffset:.5,verticalOffset:.7,forceNoPageMargins:!0,paperSize:{width:100,height:180}}};break;case"resetPrinterPreferences":t={printer:"Air Printer (MacPS)"};break;case"getGlobalConfig":t={};break;case"setGlobalConfig":t={notifyOnTaskFailure:!1};break;case"getAgentInfo":t={};break;case"getTaskStatus":t={taskID:["12311","12312"]};break;case"getDocumentStatus":t={documentIDs:["9789173491296","9890000112011"]};break;case"print":case"printPdf":case"printImg":t=o.json}}try{app.notify=new Notify;var t={};app.lastChanged=void 0;var r=new CAINIAO_PRINT({notifyPrintResultHandler:function(e){}}),n=document.getElementById("jsonformatter"),a=document.getElementById("socketResult");r.windows||(a.innerText="\u8f93\u51fa\u7ed3\u679c\uff1a\u975ewindows\u64cd\u4f5c\u7cfb\u7edf\uff0c\u65e0\u6cd5\u5b89\u88c5\u6253\u5370\u7ec4\u4ef6");var o={json:{task:{printer:"",documents:[{documentID:"0123456789",contents:[{data:{recipient:{address:{city:"\u676d\u5dde\u5e02",detail:"\u826f\u7766\u8def999\u53f7\u4e50\u4f73\u56fd\u9645\u5927\u53a62\u53f7\u697c\u5c0f\u90ae\u5c40",district:"\u4f59\u676d\u533a",province:"\u6d59\u6c5f\u7701",town:""},mobile:"13012345678",name:"\u83dc\u9e1f\u7f51\u7edc",phone:"057112345678"},routingInfo:{consolidation:{name:"\u676d\u5dde",code:"hangzhou"},origin:{name:"\u676d\u5dde",code:"POSTB"},sortation:{name:"\u676d\u5dde"},routeCode:"123A-456-789"},sender:{address:{city:"\u676d\u5dde\u5e02",detail:"\u6587\u4e00\u897f\u8def1001\u53f7\u963f\u91cc\u5df4\u5df4\u6dd8\u5b9d\u57ce5\u53f7\u5c0f\u90ae\u5c40",district:"\u4f59\u676d\u533a",province:"\u6d59\u6c5f\u7701",town:""},mobile:"13012345678",name:"\u963f\u91cc\u5df4\u5df4",phone:"057112345678"},shippingOption:{code:"COD",services:{"SVC-COD":{value:"200"},"TIMED-DELIVERY":{value:"SEVERAL-DAYS"},"PAYMENT-TYPE":{value:"ON-DELIVERY"},"SVC-INSURE":{value:"1000000"},"SVC-PROMISE-DELIVERY":{"promise-type":"SAMEDAY_DELIVERY"}},title:"\u4ee3\u6536\u8d27\u6b3e"},waybillCode:"0123456789"},signature:"19d6f7759487e556ddcdd3d499af087080403277b7deed1a951cc3d9a93c42a7e22ccba94ff609976c5d3ceb069b641f541bc9906098438d362cae002dfd823a8654b2b4f655e96317d7f60eef1372bb983a4e3174cc8d321668c49068071eaea873071ed683dd24810e51afc0bc925b7a2445fdbc2034cdffb12cb4719ca6b7",templateURL:"http://cloudprint.cainiao.com/cloudprint/template/getStandardTemplate.json?template_id=101&version=4"}]}]}},template:""};try{window.addEventListener("message",function(e){e.source==window.parent&&e.data&&(e.data.data&&(o.json.task.documents[0].contents[0].data=e.data.data),e.data.templateURL&&(o.json.task.documents[0].contents[0].templateURL=e.data.templateURL),formatter.set(o.json),"open"==e.data.action&&(r.windows?a.innerText="":a.innerText="\u8f93\u51fa\u7ed3\u679c\uff1a\u975ewindows\u64cd\u4f5c\u7cfb\u7edf\uff0c\u65e0\u6cd5\u5b89\u88c5\u6253\u5370\u7ec4\u4ef6"))},!1)}catch(i){}formatter=new JSONFormatter(n,{change:function(){app.lastChanged=formatter},run:function(){var e=JSON.parse(JSON.stringify(JSONEditor.parse($(".jsonformatter-textarea").val())));if(e=e.task.documents[0].contents[0].data,window.parent.postMessage(e,"*"),1!=r.socket.readyState)return a.innerText="\u8f93\u51fa\u7ed3\u679c\uff1a\u6253\u5370\u7ec4\u4ef6\u672a\u8fde\u63a5\u6216\u5df2\u5173\u95ed\uff0c\u8bf7\u68c0\u6d4b\u7ec4\u4ef6\u6253\u5f00\u60c5\u51b5",!1;var t=$(".jsoneditor-select").val(),n=JSON.parse(JSON.stringify(JSONEditor.parse($(".jsonformatter-textarea").val())));switch(n.handler=function(e){a.innerText="\u8f93\u51fa\u7ed3\u679c\uff1a"+JSON.stringify(e),"printPdf"===t&&"success"===e.status&&e.previewURL?window.parent.postMessage({previewURL:e.previewURL,type:"link"},"*"):"printImg"===t&&"success"===e.status&&e.previewImage&&window.parent.postMessage({previewURL:e.previewImage[0],type:"link"},"*")},t){case"getPrints":r.getPrinters(n);break;case"getPrinterConfig":r.getPrinterConfig(n);break;case"printerConfig":r.printerConfig(n);break;case"setPrinterConfig":r.setPrinterConfig(n);break;case"resetPrinterPreferences":r.resetPrinterPreferences(n);break;case"getGlobalConfig":r.getGlobalConfig(n);break;case"setGlobalConfig":r.setGlobalConfig(n);break;case"getAgentInfo":r.getAgentInfo(n);break;case"getTaskStatus":r.getTaskStatus(n);break;case"getDocumentStatus":r.getDocumentStatus(n);break;case"print":r.print(n);break;case"printPdf":r.printPdf(n);break;case"printImg":r.printImg(n)}},changeForSelect:function(r){"use strict";formatter.set({msg:"\u5207\u6362\u4e2d..."}),formatter.onError=function(e){app.notify.showError(e)},a.innerText="",app.formatterToEditor(),setTimeout(function(){e($(r.target).val()),formatter.set(t),editor.set(t)},1e3)}}),e("print"),formatter.set(t),formatter.onError=function(e){app.notify.showError(e)},n=document.getElementById("jsoneditor"),editor=new JSONEditor(n,{change:function(){app.lastChanged=editor}}),editor.set(t);var s=document.getElementById("splitter");app.splitter=new Splitter({container:s,change:function(){app.resize()}}),s.appendChild(document.createElement("br")),s.appendChild(document.createElement("br")),s.appendChild(document.createElement("br"));var c=document.createElement("button");c.id="toForm",c.title="\u89e3\u6790JSON",c.className="convert",c.innerHTML='<div class="convert-right"></div>',c.onclick=function(){this.focus(),app.formatterToEditor()},s.appendChild(c),s.appendChild(document.createElement("br")),s.appendChild(document.createElement("br"));var d=document.createElement("button");d.id="toJSON",d.title="\u4fdd\u5b58JSON",d.className="convert",d.innerHTML='<div class="convert-left"></div>',d.onclick=function(){this.focus(),app.editorToFormatter()},s.appendChild(d),JSONEditor.Events.addEventListener(window,"resize",app.resize),document.body.spellcheck=!1;var p=document.getElementById("J_uuid");p.innerHTML="\u53ef\u7528\u7684requestID\uff1a"+r.getUUID()}catch(f){app.notify.showError(f)}},app.openCallback=function(e,t){if(e)app.notify.showError(e);else if(void 0!=t){formatter.setText(t);try{var r=JSONEditor.parse(t);editor.set(r)}catch(e){editor.set({}),app.notify.showError(e)}}},app.resize=function(){var e=document.getElementById("jsoneditor"),t=document.getElementById("jsonformatter"),r=document.getElementById("splitter"),n=window.innerWidth||document.body.offsetWidth||document.documentElement.offsetWidth,a=window.innerHeight||document.body.offsetHeight||document.documentElement.offsetHeight;a-=88;var o=r.clientWidth,i=n*app.splitter.getValue();t.style.width=Math.round(i)+"px",e.style.left=Math.round(i+o)+"px",e.style.width=Math.round(n-i-o-1)+"px"};var jsonlint=function(){var t={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(t,e,i,n,r,s,h){var l=s.length-1;switch(r){case 1:this.$=t.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\x0B").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(t);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=s[l-1];case 13:this.$={};break;case 14:this.$=s[l-1];break;case 15:this.$=[s[l-2],s[l]];break;case 16:this.$={},this.$[s[l][0]]=s[l][1];break;case 17:this.$=s[l-2],s[l-2][s[l][0]]=s[l][1];break;case 18:this.$=[];break;case 19:this.$=s[l-1];break;case 20:this.$=[s[l]];break;case 21:this.$=s[l-2],s[l-2].push(s[l])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(t){r.length=r.length-2*t,s.length=s.length-t,h.length=h.length-t}function i(){var t;return t=n.lexer.lex()||1,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,r=[0],s=[null],h=[],l=this.table,o="",a=0,c=0,u=0,y=2,p=1;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var f=this.lexer.yylloc;h.push(f),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var g,d,m,x,_,b,E,S,k,v={};;){if(m=r[r.length-1],this.defaultActions[m]?x=this.defaultActions[m]:(null==g&&(g=i()),x=l[m]&&l[m][g]),"undefined"==typeof x||!x.length||!x[0]){if(!u){k=[];for(b in l[m])this.terminals_[b]&&b>2&&k.push("'"+this.terminals_[b]+"'");var $="";$=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+this.terminals_[g]+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError($,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:f,expected:k})}if(3==u){if(g==p)throw new Error($||"Parsing halted.");c=this.lexer.yyleng,o=this.lexer.yytext,a=this.lexer.yylineno,f=this.lexer.yylloc,g=i()}for(;;){if(y.toString()in l[m])break;if(0==m)throw new Error($||"Parsing halted.");e(1),m=r[r.length-1]}d=g,g=y,m=r[r.length-1],x=l[m]&&l[m][y],u=3}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+g);switch(x[0]){case 1:r.push(g),s.push(this.lexer.yytext),h.push(this.lexer.yylloc),r.push(x[1]),g=null,d?(g=d,d=null):(c=this.lexer.yyleng,o=this.lexer.yytext,a=this.lexer.yylineno,f=this.lexer.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[x[1]][1],v.$=s[s.length-E],v._$={first_line:h[h.length-(E||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(E||1)].first_column,last_column:h[h.length-1].last_column},_=this.performAction.call(v,o,c,a,this.yy,x[1],s,h),"undefined"!=typeof _)return _;E&&(r=r.slice(0,-1*E*2),s=s.slice(0,-1*E),h=h.slice(0,-1*E)),r.push(this.productions_[x[1]][0]),s.push(v.$),h.push(v._$),S=l[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parseError)throw new Error(t);this.yy.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.match+=t,this.matched+=t;var e=t.match(/\n/);return e&&this.yylineno++,this._input=this._input.slice(1),t},unput:function(t){return this._input=t+this._input,this},more:function(){return this._more=!0,this},less:function(t){this._input=this.match.slice(t)+this._input},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,r;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),h=0;h<s.length&&(i=this._input.match(this.rules[s[h]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=h,this.options.flex));h++);return e?(r=e[0].match(/\n.*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,s[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){switch(i){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},t.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],t.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},t}();return t.lexer=e,t}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=jsonlint,exports.parse=function(){return jsonlint.parse.apply(jsonlint,arguments)},exports.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");if("undefined"!=typeof process)var e=require("fs").readFileSync(require("path").join(process.cwd(),t[1]),"utf8");else var i=require("file").path(require("file").cwd()),e=i.join(t[1]).read({charset:"utf-8"});return exports.parser.parse(e)},"undefined"!=typeof module&&require.main===module&&exports.main("undefined"!=typeof process?process.argv.slice(1):require("system").args));